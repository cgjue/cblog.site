PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE user (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  username TEXT UNIQUE NOT NULL,
  password TEXT NOT NULL
);
INSERT INTO user VALUES(1,'self','pbkdf2:sha256:150000$7aLgr5DF$58d2e58f29b0c13630193654d81687dd50bcda9b78f06c6e9589d0e22b0b4e9d');
CREATE TABLE post (
  id INTEGER PRIMARY KEY AUTOINCREMENT,
  author_id INTEGER NOT NULL,
  created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  title TEXT NOT NULL,
  body TEXT NOT NULL,
  FOREIGN KEY (author_id) REFERENCES user (id)
);
INSERT INTO post VALUES(1,1,'2018-05-13 00:00:00','2019-10-30 06:15:35','cblog可以使用了',replace(replace('# 在flask例子flaskr的基础上改的。\r\n#cblog.site网站源代码。\r\n	使用sqlite3数据库， 登录后可编辑新页面。\r\n	使用命令```python genStaticHtml.py``` 可导出所有静态页面，在github page上浏览，效果还可以。\r\n# 文章生成使用了wangEditor.js ,代码高亮使用highlight.min.js\r\n# 启动web服务 ```$python app.py```\r\n# 数据库初始化 ```$flask initdb```\r\n# 注册账号需要邀请码，自己往数据库表welcode中添加即可，注册页面中邀请码输入栏禁止输入，要自己想办法输进去    \r\n	tips: 浏览器页面中修改标签属性\r\n# 生成静态页面\r\n	在web服务正常运行的前提下，使用命令 ```python genStaticHtml.py```生成静态页面\r\n# 上传静态页面到github page \r\n	修改uploadcgjue.site.io.sh 中的github地址，\r\n	然后运行$sh uploadcgjue.site.io.sh\r\n\r\n## next step:    \r\n1. 增加上传文件功能，方便引入自己的脚本和图片等。   \r\n2. 增加评论功能，对于静态网站来说，\r\n引用第三方的评论插件就行了吧。\r\n[cblog.site源码](https://github.com/cgjue/cblog.site "cblog.site源码")\r\n\r\n## 2019.11.03\r\n修改了cblog的后台管理界面，改用editor.md作为markdown编辑插件，并设置了是否使用editor.md的页面功能选项，引入valine作为评论插件，并使用server酱作为访问提示，好吧，谁看了我的文章，我都能收到提示，毕竟太少有人可能访问我的文章了。','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(2,1,'2018-05-22 00:00:00','2019-10-30 06:15:35','DIV树',replace(replace('<div class="body"><div>摇曳的DIV树，由CSS和DIV标签制作而成的，从网上看到的一段代码，已不记得原作者是谁了，听喜欢的。 <br/></div><div><style>\r\n.trunk,.trunk div{background:#136086;width:100px;height:10px;position:absolute;left:50%;top:70%;margin-left:-10px;-webkit-animation-name:rot;animation-name:rot;-webkit-animation-duration:2.02s;animation-duration:2.02s;-webkit-animation-iteration-count:infinite;animation-iteration-count:infinite;-webkit-animation-direction:alternate;animation-direction:alternate;-webkit-transform-origin:5px 5px;-ms-transform-origin:5px 5px;transform-origin:5px 5px;-webkit-animation-timing-function:ease-in-out;animation-timing-function:ease-in-out}.trunk.trunk,.trunk div.trunk{bottom:0;left:50%;-webkit-animation-name:rot-root;animation-name:rot-root;-webkit-animation-duration:2.5s;animation-duration:2.5s}.trunk>div,.trunk div>div{top:0;left:100px;-webkit-animation-duration:calc(inherit / 2);animation-duration:calc(inherit / 2)}.trunk>div:nth-child(2),.trunk div>div:nth-child(2){-webkit-animation-name:rot-inv;animation-name:rot-inv;-webkit-animation-duration:1.7s;animation-duration:1.7s}@-webkit-keyframes rot{from{-webkit-transform:rotate(15deg) scale(0.72);transform:rotate(15deg) scale(0.72)}to{-webkit-transform:rotate(45deg) scale(0.72);transform:rotate(45deg) scale(0.72)}}@keyframes rot{from{-webkit-transform:rotate(15deg) scale(0.72);transform:rotate(15deg) scale(0.72)}to{-webkit-transform:rotate(45deg) scale(0.72);transform:rotate(45deg) scale(0.72)}}@-webkit-keyframes rot-inv{from{-webkit-transform:rotate(-45deg) scale(0.72);transform:rotate(-45deg) scale(0.72)}to{-webkit-transform:rotate(-15deg) scale(0.72);transform:rotate(-15deg) scale(0.72)}}@keyframes rot-inv{from{-webkit-transform:rotate(-45deg) scale(0.72);transform:rotate(-45deg) scale(0.72)}to{-webkit-transform:rotate(-15deg) scale(0.72);transform:rotate(-15deg) scale(0.72)}}@-webkit-keyframes rot-root{from{-webkit-transform:rotate(-95deg);transform:rotate(-95deg)}to{-webkit-transform:rotate(-85deg);transform:rotate(-85deg)}}@keyframes rot-root{from{-webkit-transform:rotate(-95deg);transform:rotate(-95deg)}to{-webkit-transform:rotate(-85deg);transform:rotate(-85deg)}}\r\n</style></div>\r\n<div class="trunk"><div><div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div></div><div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div></div></div><div><div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div></div><div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div><div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div><div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div><div><div><div><div></div><div></div></div><div><div></div><div></div></div></div><div><div><div></div><div></div></div><div><div></div><div></div></div></div></div></div></div></div></div></div>\r\n<span style=" display: none;">给冰冰的，可惜她消失了</span></div>','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(3,1,'2018-05-22 00:00:00','2019-10-30 06:15:35','Flower',replace(replace('一束动态变换的花朵，使用JavaScript和css布局生成，不得不佩服原作者的想象力和创造力<blockquote>\r\n<div class="wrapper">\r\n<div class="flower"><div class="petal" style="transform: rotateY(0deg) rotateX(-30deg) translateZ(9vmin)"><div class="box" style="color: hsl(150, 100%, 10%);font-size: 0vmin"><div class="box" style="color: hsl(142.5, 100%, 14%);font-size: 1.25vmin"><div class="box" style="color: hsl(135, 100%, 18%);font-size: 2.5vmin"><div class="box" style="color: hsl(127.5, 100%, 22%);font-size: 3.75vmin"><div class="box" style="color: hsl(120, 100%, 26%);font-size: 5vmin"><div class="box" style="color: hsl(112.5, 100%, 30%);font-size: 6.25vmin"><div class="box" style="color: hsl(105, 100%, 34%);font-size: 7.5vmin"><div class="box" style="color: hsl(97.5, 100%, 38%);font-size: 8.75vmin"><div class="box" style="color: hsl(90, 100%, 42%);font-size: 10vmin"><div class="box" style="color: hsl(82.5, 100%, 46%);font-size: 11.25vmin"><div class="box" style="color: hsl(75, 100%, 50%);font-size: 12.5vmin"><div class="box" style="color: hsl(67.5, 100%, 50%);font-size: 11.25vmin"><div class="box" style="color: hsl(60, 100%, 50%);font-size: 10vmin"><div class="box" style="color: hsl(52.5, 100%, 50%);font-size: 8.75vmin"><div class="box" style="color: hsl(45, 100%, 50%);font-size: 7.5vmin"><div class="box" style="color: hsl(37.5, 100%, 50%);font-size: 6.25vmin"><div class="box" style="color: hsl(30, 100%, 50%);font-size: 5vmin"><div class="box" style="color: hsl(22.5, 100%, 50%);font-size: 3.75vmin"><div class="box" style="color: hsl(15, 100%, 50%);font-size: 2.5vmin"><div class="box" style="color: hsl(7.5, 100%, 50%);font-size: 1.25vmin"><div class="box" style="color: hsl(0, 100%, 50%);font-size: 0vmin"><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div></div><div class="petal" style="transform: rotateY(60deg) rotateX(-30deg) translateZ(9vmin)"><div class="box" style="color: hsl(150, 100%, 10%);font-size: 0vmin"><div class="box" style="color: hsl(142.5, 100%, 14%);font-size: 1.25vmin"><div class="box" style="color: hsl(135, 100%, 18%);font-size: 2.5vmin"><div class="box" style="color: hsl(127.5, 100%, 22%);font-size: 3.75vmin"><div class="box" style="color: hsl(120, 100%, 26%);font-size: 5vmin"><div class="box" style="color: hsl(112.5, 100%, 30%);font-size: 6.25vmin"><div class="box" style="color: hsl(105, 100%, 34%);font-size: 7.5vmin"><div class="box" style="color: hsl(97.5, 100%, 38%);font-size: 8.75vmin"><div class="box" style="color: hsl(90, 100%, 42%);font-size: 10vmin"><div class="box" style="color: hsl(82.5, 100%, 46%);font-size: 11.25vmin"><div class="box" style="color: hsl(75, 100%, 50%);font-size: 12.5vmin"><div class="box" style="color: hsl(67.5, 100%, 50%);font-size: 11.25vmin"><div class="box" style="color: hsl(60, 100%, 50%);font-size: 10vmin"><div class="box" style="color: hsl(52.5, 100%, 50%);font-size: 8.75vmin"><div class="box" style="color: hsl(45, 100%, 50%);font-size: 7.5vmin"><div class="box" style="color: hsl(37.5, 100%, 50%);font-size: 6.25vmin"><div class="box" style="color: hsl(30, 100%, 50%);font-size: 5vmin"><div class="box" style="color: hsl(22.5, 100%, 50%);font-size: 3.75vmin"><div class="box" style="color: hsl(15, 100%, 50%);font-size: 2.5vmin"><div class="box" style="color: hsl(7.5, 100%, 50%);font-size: 1.25vmin"><div class="box" style="color: hsl(0, 100%, 50%);font-size: 0vmin"><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div></div><div class="petal" style="transform: rotateY(120deg) rotateX(-30deg) translateZ(9vmin)"><div class="box" style="color: hsl(150, 100%, 10%);font-size: 0vmin"><div class="box" style="color: hsl(142.5, 100%, 14%);font-size: 1.25vmin"><div class="box" style="color: hsl(135, 100%, 18%);font-size: 2.5vmin"><div class="box" style="color: hsl(127.5, 100%, 22%);font-size: 3.75vmin"><div class="box" style="color: hsl(120, 100%, 26%);font-size: 5vmin"><div class="box" style="color: hsl(112.5, 100%, 30%);font-size: 6.25vmin"><div class="box" style="color: hsl(105, 100%, 34%);font-size: 7.5vmin"><div class="box" style="color: hsl(97.5, 100%, 38%);font-size: 8.75vmin"><div class="box" style="color: hsl(90, 100%, 42%);font-size: 10vmin"><div class="box" style="color: hsl(82.5, 100%, 46%);font-size: 11.25vmin"><div class="box" style="color: hsl(75, 100%, 50%);font-size: 12.5vmin"><div class="box" style="color: hsl(67.5, 100%, 50%);font-size: 11.25vmin"><div class="box" style="color: hsl(60, 100%, 50%);font-size: 10vmin"><div class="box" style="color: hsl(52.5, 100%, 50%);font-size: 8.75vmin"><div class="box" style="color: hsl(45, 100%, 50%);font-size: 7.5vmin"><div class="box" style="color: hsl(37.5, 100%, 50%);font-size: 6.25vmin"><div class="box" style="color: hsl(30, 100%, 50%);font-size: 5vmin"><div class="box" style="color: hsl(22.5, 100%, 50%);font-size: 3.75vmin"><div class="box" style="color: hsl(15, 100%, 50%);font-size: 2.5vmin"><div class="box" style="color: hsl(7.5, 100%, 50%);font-size: 1.25vmin"><div class="box" style="color: hsl(0, 100%, 50%);font-size: 0vmin"><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div></div><div class="petal" style="transform: rotateY(180deg) rotateX(-30deg) translateZ(9vmin)"><div class="box" style="color: hsl(150, 100%, 10%);font-size: 0vmin"><div class="box" style="color: hsl(142.5, 100%, 14%);font-size: 1.25vmin"><div class="box" style="color: hsl(135, 100%, 18%);font-size: 2.5vmin"><div class="box" style="color: hsl(127.5, 100%, 22%);font-size: 3.75vmin"><div class="box" style="color: hsl(120, 100%, 26%);font-size: 5vmin"><div class="box" style="color: hsl(112.5, 100%, 30%);font-size: 6.25vmin"><div class="box" style="color: hsl(105, 100%, 34%);font-size: 7.5vmin"><div class="box" style="color: hsl(97.5, 100%, 38%);font-size: 8.75vmin"><div class="box" style="color: hsl(90, 100%, 42%);font-size: 10vmin"><div class="box" style="color: hsl(82.5, 100%, 46%);font-size: 11.25vmin"><div class="box" style="color: hsl(75, 100%, 50%);font-size: 12.5vmin"><div class="box" style="color: hsl(67.5, 100%, 50%);font-size: 11.25vmin"><div class="box" style="color: hsl(60, 100%, 50%);font-size: 10vmin"><div class="box" style="color: hsl(52.5, 100%, 50%);font-size: 8.75vmin"><div class="box" style="color: hsl(45, 100%, 50%);font-size: 7.5vmin"><div class="box" style="color: hsl(37.5, 100%, 50%);font-size: 6.25vmin"><div class="box" style="color: hsl(30, 100%, 50%);font-size: 5vmin"><div class="box" style="color: hsl(22.5, 100%, 50%);font-size: 3.75vmin"><div class="box" style="color: hsl(15, 100%, 50%);font-size: 2.5vmin"><div class="box" style="color: hsl(7.5, 100%, 50%);font-size: 1.25vmin"><div class="box" style="color: hsl(0, 100%, 50%);font-size: 0vmin"><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div></div><div class="petal" style="transform: rotateY(240deg) rotateX(-30deg) translateZ(9vmin)"><div class="box" style="color: hsl(150, 100%, 10%);font-size: 0vmin"><div class="box" style="color: hsl(142.5, 100%, 14%);font-size: 1.25vmin"><div class="box" style="color: hsl(135, 100%, 18%);font-size: 2.5vmin"><div class="box" style="color: hsl(127.5, 100%, 22%);font-size: 3.75vmin"><div class="box" style="color: hsl(120, 100%, 26%);font-size: 5vmin"><div class="box" style="color: hsl(112.5, 100%, 30%);font-size: 6.25vmin"><div class="box" style="color: hsl(105, 100%, 34%);font-size: 7.5vmin"><div class="box" style="color: hsl(97.5, 100%, 38%);font-size: 8.75vmin"><div class="box" style="color: hsl(90, 100%, 42%);font-size: 10vmin"><div class="box" style="color: hsl(82.5, 100%, 46%);font-size: 11.25vmin"><div class="box" style="color: hsl(75, 100%, 50%);font-size: 12.5vmin"><div class="box" style="color: hsl(67.5, 100%, 50%);font-size: 11.25vmin"><div class="box" style="color: hsl(60, 100%, 50%);font-size: 10vmin"><div class="box" style="color: hsl(52.5, 100%, 50%);font-size: 8.75vmin"><div class="box" style="color: hsl(45, 100%, 50%);font-size: 7.5vmin"><div class="box" style="color: hsl(37.5, 100%, 50%);font-size: 6.25vmin"><div class="box" style="color: hsl(30, 100%, 50%);font-size: 5vmin"><div class="box" style="color: hsl(22.5, 100%, 50%);font-size: 3.75vmin"><div class="box" style="color: hsl(15, 100%, 50%);font-size: 2.5vmin"><div class="box" style="color: hsl(7.5, 100%, 50%);font-size: 1.25vmin"><div class="box" style="color: hsl(0, 100%, 50%);font-size: 0vmin"><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div></div><div class="petal" style="transform: rotateY(300deg) rotateX(-30deg) translateZ(9vmin)"><div class="box" style="color: hsl(150, 100%, 10%);font-size: 0vmin"><div class="box" style="color: hsl(142.5, 100%, 14%);font-size: 1.25vmin"><div class="box" style="color: hsl(135, 100%, 18%);font-size: 2.5vmin"><div class="box" style="color: hsl(127.5, 100%, 22%);font-size: 3.75vmin"><div class="box" style="color: hsl(120, 100%, 26%);font-size: 5vmin"><div class="box" style="color: hsl(112.5, 100%, 30%);font-size: 6.25vmin"><div class="box" style="color: hsl(105, 100%, 34%);font-size: 7.5vmin"><div class="box" style="color: hsl(97.5, 100%, 38%);font-size: 8.75vmin"><div class="box" style="color: hsl(90, 100%, 42%);font-size: 10vmin"><div class="box" style="color: hsl(82.5, 100%, 46%);font-size: 11.25vmin"><div class="box" style="color: hsl(75, 100%, 50%);font-size: 12.5vmin"><div class="box" style="color: hsl(67.5, 100%, 50%);font-size: 11.25vmin"><div class="box" style="color: hsl(60, 100%, 50%);font-size: 10vmin"><div class="box" style="color: hsl(52.5, 100%, 50%);font-size: 8.75vmin"><div class="box" style="color: hsl(45, 100%, 50%);font-size: 7.5vmin"><div class="box" style="color: hsl(37.5, 100%, 50%);font-size: 6.25vmin"><div class="box" style="color: hsl(30, 100%, 50%);font-size: 5vmin"><div class="box" style="color: hsl(22.5, 100%, 50%);font-size: 3.75vmin"><div class="box" style="color: hsl(15, 100%, 50%);font-size: 2.5vmin"><div class="box" style="color: hsl(7.5, 100%, 50%);font-size: 1.25vmin"><div class="box" style="color: hsl(0, 100%, 50%);font-size: 0vmin"><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div><div class="shape"></div></div></div></div>\r\n</div>\r\n<style>\r\n.range{position:absolute;zind:2px}.wrapper{position:absolute;top:0;right:0;bottom:0;left:0;margin:auto;width:10vmin;height:10vmin;font-size:10vmin;-webkit-transform:rotateX(-45deg);transform:rotateX(-45deg);-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.flower{width:10vmin;height:10vmin;-webkit-animation:rotate-flower 10s linear infinite;animation:rotate-flower 10s linear infinite;-webkit-transform-style:preserve-3d;transform-style:preserve-3d}.flower:before{content:'''';display:block;position:absolute;width:95%;height:95%;top:0;right:0;bottom:0;left:0;margin:auto;background:#260;border-radius:50%;-webkit-transform:rotateX(90deg);transform:rotateX(90deg);-webkit-animation:rotate-hue 5s infinite;animation:rotate-hue 5s infinite}.petal{position:absolute;z-index:20;bottom:80%;left:-10vmin;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform-origin:bottom;transform-origin:bottom}.box{width:30vmin;-webkit-transform-style:preserve-3d;transform-style:preserve-3d;-webkit-transform-origin:bottom;transform-origin:bottom;-webkit-animation:rotate-box 12s infinite;animation:rotate-box 12s infinite}.shape{width:.5em;height:.5em;margin:auto;background:currentColor;box-shadow:.5em 0 0 0,1em 0 0 0,-1em 0 0 0,-0.5em 0 0 0;border-radius:50%;-webkit-animation:rotate-hue 5s infinite;animation:rotate-hue 5s infinite}@-webkit-keyframes rotate-box{0%{-webkit-transform:rotateX(3.5deg);transform:rotateX(3.5deg)}15%{-webkit-transform:rotateX(3.5deg);transform:rotateX(3.5deg)}50%{-webkit-transform:rotateX(-7deg);transform:rotateX(-7deg)}80%{-webkit-transform:rotateX(-7deg);transform:rotateX(-7deg)}100%{-webkit-transform:rotateX(3.5deg);transform:rotateX(3.5deg)}}@keyframes rotate-box{0%{-webkit-transform:rotateX(3.5deg);transform:rotateX(3.5deg)}15%{-webkit-transform:rotateX(3.5deg);transform:rotateX(3.5deg)}50%{-webkit-transform:rotateX(-7deg);transform:rotateX(-7deg)}80%{-webkit-transform:rotateX(-7deg);transform:rotateX(-7deg)}100%{-webkit-transform:rotateX(3.5deg);transform:rotateX(3.5deg)}}@-webkit-keyframes rotate-flower{100%{-webkit-transform:rotateY(360deg);transform:rotateY(360deg)}}@keyframes rotate-flower{100%{-webkit-transform:rotateY(360deg);transform:rotateY(360deg)}}@-webkit-keyframes rotate-hue{100%{-webkit-filter:hue-rotate(360deg);filter:hue-rotate(360deg)}}@keyframes rotate-hue{100%{-webkit-filter:hue-rotate(360deg);filter:hue-rotate(360deg)}}\r\n</div>\r\n<script>\r\nconsole.clear();\r\n\r\nvar doc = document;\r\nvar flower = doc.querySelector(''.flower'');\r\nvar range = doc.querySelector(''.range'');\r\n\r\nvar petalPartMarkup = ''<div class="box"> \\r\n                    <div class="shape"></div> \\r\n                </div>'';\r\n\r\nvar maxParts = 20;\r\nvar maxPetalsDef = 6;\r\nvar maxPetals = maxPetalsDef;\r\n\r\nvar partsFontStepDef = 25 / maxParts;\r\nvar partsFontStep = partsFontStepDef;\r\nvar huetStep = 150 / maxParts;\r\n\r\ncreateFlower ();\r\n\r\nfunction createFlower () {\r\n    \r\n        var angle = 360 / maxPetals;\r\n    \r\n    for (var i = 0; i < maxPetals; i++) {\r\n        var petal = createPetal(); \r\n        var currAngle = angle * i + ''deg'';\r\n        var transform = ''transform: rotateY('' + currAngle + '') rotateX(-30deg) translateZ(9vmin)'';\r\n        \r\n        petal.setAttribute( ''style'',transform);\r\n        \r\n        flower.appendChild( petal );\r\n    }\r\n}\r\n\r\nfunction createPetal () {\r\n    \r\n    var box = createBox ( null, 0);\r\n    \r\n    var petal = doc.createElement(''div'');\r\n    petal.classList.add(''petal'');\r\n    \r\n    for (var i = 1; i <= maxParts; i++) {\r\n        newBox = createBox ( box, i );        \r\n        box = newBox;\r\n    } \r\n    \r\n    petal.appendChild( box );\r\n\r\n    return petal;\r\n}\r\n\r\nfunction createBox ( box, pos ) {\r\n    \r\n    var fontSize = partsFontStep * ( maxParts - pos ) + ''vmin'';\r\n    var half = maxParts / 2;\r\n    \r\n    var bright = ''50'';\r\n    \r\n    if ( pos < half + 1 ) {\r\n        fontSize = partsFontStep * pos + ''vmin'';\r\n    }\r\n    else {\r\n        bright = 10 + 40 / half * ( maxParts - pos );\r\n    }\r\n    \r\n    var color = ''hsl('' + huetStep * pos + '', 100%, '' + bright + ''%)'';\r\n    \r\n    // 1. Add shape\r\n    var newShape = doc.createElement(''div'');\r\n    newShape.classList.add( ''shape'' );\r\n\r\n    // 2. Create wrapper .box\r\n    var newBox = doc.createElement(''div'');\r\n    newBox.classList.add(''box'');  \r\n    \r\n    var boxStyle = [\r\n        ''color: '' + color,\r\n        ''font-size: '' + fontSize\r\n    ].join('';'');\r\n    newBox.setAttribute(''style'', boxStyle);\r\n\r\n    // 3. Add old box to new box\r\n    if ( box ) {\r\n        newBox.appendChild( box );\r\n    }\r\n    \r\n    // 4. Add shape to new box\r\n    newBox.appendChild( newShape );\r\n\r\n    \r\n    return newBox;\r\n}\r\n\r\nfunction out ( content ) {\r\n    console.log( content );\r\n}</script>\r\n</blockquote></style></blockquote>','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(4,1,'2018-05-23 00:00:00','2019-10-30 06:15:35','微信浏览网页自动转码提示之解决方案',replace(replace('	在微信中查看互联网上分享的网页时，由于微信的自动网页转码机制，导致部分页面无法正常显示。\r\n	由于绑定域名，需要购买云服务器，并需要备案，流程比较繁琐，所以考虑在代码中给用户以提示，让其在系统浏览器上查看页面。\r\n	最初的想法是判断是否在微信中浏览，如果是，就给予提示，否则就不给予提示，但是编写过程中，发现在微信中无法操作document，导致提示无法正常进行。\r\n	后来，灵光一闪，决定反其道而行之，既然在微信中js代码不能正常运行，那就提前准备好异常显示提醒，如果js代码能正常运行，那就把异常显示提醒抹去；反之，异常显示提醒则会展示在用户的浏览界面上。部分代码如下：\r\n```\r\n<style> \r\n#wechat {\r\n	font-size: 14px;\r\n	padding: 5px;\r\n	color: #b94a48;\r\n	background: #f2dede; \r\n	line-height: 20px; \r\n	display: block;  \r\n} \r\n</style>\r\n<view id="wechat">\r\n	<p>页面重新排版会导致加载变慢，并影响显示效果，\r\n		<strong>请点击右上角按钮，选择在浏览器中打开，并选择查看原网页\r\n		</strong>\r\n	</p>\r\n</view> \r\n<script>\r\nfunction isWechat() {\r\n	var ua = navigator.userAgent.toLowerCase();\r\n	return ua.match(/MicroMessenger/i) == "micromessenger" ? true : false         \r\n} \r\nif(!isWechat())\r\n	document.getElementById(''wechat'').style.display=''none''    </script>\r\n```\r\n后期发展：而后，想了想，根据这种想法，判断是不是在微信中运行是多余的，于是只保留了\r\n```\r\ndocument.getElementById(''wechat'').style.display=''none''\r\n```\r\n结果在微信中浏览时，发现竟然没有异常提示了。想了想原因，应该和js代码的加载顺序有关，最初的时候，我将代码放在<head>里，代码提前运行，而<body>尚未加载，导致找不到想要修改的元素。\r\n所以，最终的解决方案，还是看自己爱好吧，在微信中，还是提示可能存在的自动转码吧，尽管在微信中访问原网页还是会提示这些。','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(5,1,'2018-12-23 00:00:00','2019-10-30 06:15:35','music_download',replace(replace('    忽然想听王菲的音乐，但现在大部分音乐都开始收费，并限制下载了。尽管限制下载，但是允许在线听。对于程序员而言，这样的限制真是无聊，既然能够听，那么音乐流必然能够传到本地，甭管再怎么加密，要让用户听到那美妙的声音，就必须给出解密的方法。再不济，通过录音的方式，也是能把音乐弄到手。   \r\n	好在现在对音乐版权的管控还没有那么恐怖，在github上也能找到一些qq音乐和网易云音乐的SDK，使用这些SDK可以实现在线听歌，自然也就可以达到把音乐下载到本地的目的，music_download便是在github大神的基础上修改而来的，它提供了从网易云音乐获取歌曲、试听和下载的功能，甚是粗陋，仅当音乐下载之用。附\r\n[music_download](https://github.com/cgjue/music_download.git "music_download")','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(6,1,'2018-12-23 00:00:00','2019-10-30 06:15:35','贪吃蛇',replace(replace('	贪吃蛇，是小时候常玩的一个游戏，学习计算机以来，想把一些小时候爱玩的游戏的源码都收集弄懂了。可是这样的行动却迟迟未能开展。记得大二初的时候，层实现了五子棋的人人模式，但去实现人机模式时，却因为太难而搁置了。此后贪吃蛇、俄罗斯方块、坦克大战等游戏，更没有时间去弄了。\r\n	现在，算是闲下来了吧。偶然间看了一个人写的贪吃蛇代码，关键代码短短20行，就把基本功能实现了，不得不佩服。简易源码及解读在此\r\n[贪吃蛇20行](https://www.jb51.net/article/116616.htm "贪吃蛇20行")。\r\n\r\n	于是下载了源码，看明白后，又填了些功能，支持了游戏界面的自适应、手机触屏模式、游戏成绩评判和记录、难度自增加。游戏链接在此\r\n[贪吃蛇](https://game.cblog.site/snake.html "贪吃蛇")','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(8,1,'2018-12-27 00:00:00','2019-10-30 06:15:35','俄罗斯方块',replace(replace('俄罗斯方块是小时候特别喜欢玩的游戏，很能消磨时间。然而长大了却不再玩了，以为不管方块再怎么堆放，总有堆满的时候，似乎是一场永远没有最终胜利的游戏，而所谓的通关，亦不过达到了某个标准的认可而已。尽管如此，俄罗斯方块里还是有很多耐人寻味的道理\r\n1 越到后来，难度越大\r\n2 每一次都不同没有绝对的公平可言\r\n3 获得的成功总会渐渐的在把控不当的情况下消失\r\n4 犯下的错误会积累走错一步，要用几步来弥补\r\n5 专注和冷静最重要你的心态决定你能走多远\r\n6 做点什么，比什么都不做要好\r\n7 合群你就会消失但是不合群就会被盯上...\r\n	俄罗斯方块， 据说有人曾用60行代码就能实现，但下载了源码，效果不够理想，也许是因为那样的代码只是实现了其中的关键部分，而游戏的积分规则、等级和难度设置都需要进一步的设置吧。\r\n	在网上找了些代码，终于找到一份比较不错的代码，至少这份代码更容易被人阅读吧。俄罗斯方块在实现时，有两个方面的难点吧，一是七种方块的定义和变换的描述，二是方块的统计和消除。简单来说，每种方块的定义可以用4个(0,8)的X,Y坐标点描述，而方块的旋转变换，则可选择其中一个方块为相对原点，参考几何数学上的坐标旋转规则来推到出其他方块的位置。\r\n```\r\n* 方块旋转   * 顺时针：   * A.x =O.y + O.x - B.y   * A.y =O.y - O.x + B.x\r\n```\r\n方块的统计和消除可以利用二维坐标来实现，令方块坐标所在点为1，则一行全为1的可被消除。\r\n```\r\nfor (var i = 0; i < block.length; i++) {\r\n	var flag = true;\r\n    var y = block[i].y;\r\n	for (var j = 0; j < maxX; j++) {\r\n		if (gameMap[y][j] == false) {\r\n			flag = false;\r\n			break;\r\n		}\r\n	}\r\n	if (flag) {\r\n		count +=1;\r\n		for (var i = y; i > 0; i--) {\r\n			for (var j = 0; j < maxX; j++) {\r\n				gameMap[i][j] = gameMap[i - 1][j];\r\n			}\r\n		}\r\n	} \r\n}\r\n```\r\n游戏源码在此[俄罗斯方块](https://game.cblog.site/round.html)','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(9,1,'2019-06-19 00:00:00','2019-10-30 06:15:35','华硕Fl8000un安装黑苹果10.14.5',replace(replace('# 华硕fl8000un安装黑苹果10.14.5\r\n## 准备\r\n1. 下载带clover的镜像[https://blog.daliansky.net/macOS-Mojave-10.14.5-18F132-official-version-with-Clover-4928-original-image.html](黑果小兵macOS-10.14.5)\r\n2. 下载TransMac.exe\r\n3. 一个至少8G的U盘\r\n4. Bios版本305（306，308目前在我的电脑上不能用，若版本较高，使用WinFlash.exe /nodate 降级）\r\n5. 使用磁盘管理工具分出一个70G的分区\r\n\r\n## 安装\r\n1.  使用TransMac.exe将U盘格式化为Mac磁盘格式，并使用Restore Image功能将下载的镜像刻录到U盘。\r\n2.  重启电脑进入Bios设置，关闭Secure Boot，并修改启动项为U盘启动。\r\n3.  在Clover启动项中选择Install MacOS from Install ...项，即U盘启动项\r\n4.  在安装界面中选择磁盘工具，在“显示”项中选择显示所有设备，将提前规划好的分区格式化为APFS格式（格式化时选择一个好点的名字如macos）\r\n5.  返回选择安装Macos，选择安装磁盘位置macos，进行安装\r\n6.  安装进程会将镜像解压并重启，在启动项中选择Preboot项，系统会继续安装，等待重启（若很快重启，再选择这个项，大概需要等十几分钟）\r\n7.  重启后选择从macos启动，完成简单的配置，即安装完成\r\n8.  使用Clover Configure挂载EFI分区，将U盘中的EFI分区中的文件拷贝到电脑的EFI分区\r\n## 系统完善\r\n1.  修复WIFI， 下载kext utility，打开后，将从[https://blog.daliansky.net/macOS-Mojave-10.14.5-18F132-official-version-with-Clover-4928-original-image.html](AirPortAtheros40.kext)下载的AirPortAtheros40.kext拖拽进去，重启（目前能找到连接WIFI，但网速特慢，不知如何解决）\r\n2.  修复声卡，使用Clover Configure挂载EFI分区，并打开配置文件config.plist，在Devices项中的Audio注入id=11，保存重启\r\n3.  修复显卡，使用Clover Configure挂载EFI分区，并打开配置文件config.plist，在Graphics项中将ig-platform-id项中写入0x591b0000，并勾选InjectIntel项，在Devices项中，将IntelGFX项值设为0x59168086，保存重启(在windows下发现自己的显卡id是0x59178086,这是我需要注入的原因吧)\r\n4.  蓝牙问题，需要先启动下windows，再重启进入macos才能启动蓝牙，貌似macos不能直接冷启动蓝牙\r\n5.  安装USB网卡，百度HoRNDIS，下载并安装重启\r\n6.  安装xtralFinder永久使用版，增强Finder功能\r\n7.  安装karabiner，交换left_option和left_command项。\r\n8.  修复触摸板，因为我的触摸板是I2C的，从github上下载VOODOOI2C，重启后驱动\r\n9.  开启hidpi，在github上搜索hidpi，选择one-key-hidpi，里面有个一键开启的命令，重启后，在显示器上选择缩放，并选择合适的分辨率。\r\n10.  USB网卡，某宝买rtl8811au的usb网卡，在网上搜索到驱动，安装后重启（自带光盘驱动，可惜没光驱。。。）\r\n## 常用软件\r\n1. 网易云音乐\r\n2. QQ\r\n3. 微信\r\n4. 搜狗拼音\r\n5. 根据需要安装想装的软件','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(10,1,'2019-11-03 13:02:00','2019-11-03 13:02:00','crossover破解',replace(replace('### 根源：\r\n	crossover使用非对称加密，公钥可被替换，账号格式可通过阅读crossover的python文件得到，自己创建公私钥可替换之，从而注册成功，整个注册过程不涉及网络交互。\r\n### 破解代码\r\n```\r\n# coding: utf-8\r\n\r\n# In[1]:\r\n\r\n\r\nimport sys\r\nimport os\r\nbase = "/opt/cxoffice"\r\nprivate_key_path = base + "/share/crossover/data/private_key.pem"\r\npub_key_path = base + "/share/crossover/data/tie.pub"\r\nlicense_path = base + "/etc/license.txt"\r\nlicense_sig = base + "/etc/license.sig"\r\n\r\n\r\n# In[2]:\r\n\r\n\r\nsys.path.append(base + "/lib/python/")\r\n\r\n\r\n# In[3]:\r\n\r\n\r\nimport cxutils\r\n''''''\r\nimport cxconfig\r\nconf["crosslin"]["customer"]="kkk"\r\nconf["crosslin"]["expires"]="2199/03/20"\r\nconf["license"]["id"]="12345678"\r\nfile_obj = open(license_path, "w")\r\nfor block in conf.blocks:\r\n    for line in block:\r\n        if line is not None:\r\n            file_obj.write(line)\r\nfile_obj.close()\r\n''''''\r\n##奇葩的文件锁，主要是了解文件格式是怎样的就行了\r\n\r\nargs = ("openssl", "genrsa", "-out", private_key_path, "2048")\r\ncxutils.run(args, stdout=cxutils.NULL, stderr=cxutils.NULL)\r\nargs = ("openssl", "rsa", "-in", private_key_path, "-pubout", "-out", pub_key_path)\r\ncxutils.run(args, stdout=cxutils.NULL, stderr=cxutils.NULL)\r\n\r\nlic = ''''''\r\n[crosslin]\r\n"customer" = "kkk"\r\n"expires" = "2199/03/20"\r\n\r\n[license]\r\n"id" = "12345678"\r\n''''''\r\nwith open(license_path, "w") as f:\r\n    f.write(lic)\r\n\r\n\r\nargs = ("openssl", "dgst", "-sha1", "-sign", private_key_path, "-out", license_sig, license_path)\r\ncxutils.run(args, stdout=cxutils.NULL, stderr=cxutils.NULL)\r\n\r\n\r\n```','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(11,1,'2020-07-19 02:00:17','2020-07-19 02:00:17','xtralFinder无限期试用不弹窗',replace(replace('##起因\r\n	xtralFInder提供了无限期试用版本，但该版本会在软件每次启动时弹出一个界面，提示使用时长和注册提醒，这也无可厚非，但恶心的是随着使用时长的增加，弹窗界面的Sleep时长也增加，这就不好了。\r\n##取消弹窗\r\n	 使用grep命令查找"Continue trial"关键字，这个关键字在弹窗界面中出现\r\n	 发现该关键字只在Register.nib文件中出现，于是新建一个空白的Register.nib文件将原来的Register.nib文件替换掉，就不会在每次启动时弹窗了。\r\n\r\n##结语\r\n喜欢正版的有钱人还是打赏下原作者吧！','\r',char(13)),'\n',char(10)));
INSERT INTO post VALUES(16,1,'2022-06-08 03:29:18','2022-06-08 03:29:18','大麦盒子DM40A7免拆刷机包',replace(replace('## 起因\r\n1. 买的宽带免费送的盒子，当时宽带小哥就说盒子里尽是广告和会员，没什么用。果不其然，拿到盒子后被恶心到了。实际上，国内的电视盒子大多都是这个套路，广告和会员满天飞，不管是小米、腾讯、华为还是天猫魔盒，都不能免俗。\r\n## 经过\r\n1. 想要有一个好的收视体验，又不想掏那么多钱，也就只能走DIY渠道。在网上百度了很久，在智能电视网ZDNS上花了一元钱下载了一个刷机包，能够刷进去，可惜一旦退出应用就黑屏了，是个半成品，还需要加工下。\r\n2. 在网上找了解包软件，将固件解包分析。发现固件里有内存限制，会只保留一个活跃的前置Activity，同时有个看门狗程序，当发现没有其他前置Activity后就把自己的桌面起起来。\r\n3. 按照这个思路，尝试写个shell来检测前置Activity，必要是启动自己的桌面。发现Shell兼容性不行，所以就改成C来写了，之后让它开机后循环执行。其实也可以用Java写个服务，同样有效果。\r\n## 结果\r\n1. 思路大概是这样的，剩下的就是调Bug。成品可参见链接：https://pan.baidu.com/s/1gAwTEn-jFKQcA0RLPwkwgg \r\n提取码：hvbm','\r',char(13)),'\n',char(10)));
CREATE TABLE category (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    value TEXT NOT NULL,
    user_id INTEGER NOT NULL,
    FOREIGN KEY (user_id) REFERENCES user (id)
);
INSERT INTO category VALUES(1,'Web',1);
INSERT INTO category VALUES(9,'Game',1);
INSERT INTO category VALUES(10,'Tool',1);
INSERT INTO category VALUES(11,'Mac',1);
INSERT INTO category VALUES(13,'exploit',1);
CREATE TABLE category_post (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    category_id INTEGER NOT NULL,
    post_id INTEGER NOT NULL,
    FOREIGN KEY (post_id) REFERENCES post (id),
    FOREIGN KEY (category_id) REFERENCES category (id)
);
INSERT INTO category_post VALUES(22,11,9);
INSERT INTO category_post VALUES(23,10,5);
INSERT INTO category_post VALUES(24,9,6);
INSERT INTO category_post VALUES(25,9,8);
INSERT INTO category_post VALUES(26,1,1);
INSERT INTO category_post VALUES(27,1,2);
INSERT INTO category_post VALUES(28,1,3);
INSERT INTO category_post VALUES(29,1,4);
INSERT INTO category_post VALUES(30,1,5);
INSERT INTO category_post VALUES(31,1,7);
INSERT INTO category_post VALUES(37,13,10);
INSERT INTO category_post VALUES(38,13,11);
INSERT INTO category_post VALUES(39,11,11);
INSERT INTO category_post VALUES(40,13,15);
INSERT INTO category_post VALUES(41,13,16);
CREATE TABLE navigation (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    value TEXT NOT NULL
);
CREATE TABLE navigation_post (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    navigation_id INTEGER NOT NULL,
    post_id INTEGER NOT NULL,
    FOREIGN KEY (post_id) REFERENCES post (id),
    FOREIGN KEY (navigation_id) REFERENCES navigation (id)
);
CREATE TABLE welcode (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    welcode TEXT NOT NULL 
);
CREATE TABLE uploadfile (
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    fpath TEXT NOT NULL,
    user_id INTEGER NOT NULL,
    created TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    FOREIGN KEY (user_id) REFERENCES user (id)
);
CREATE TABLE use_plugin(
    id INTEGER PRIMARY KEY AUTOINCREMENT,    
    post_id INTEGER NOT NULL,
    plugin_id INTEGER NOT NULL,    
    use INTEGER CHECK(use >=0 AND use <=1),
    FOREIGN KEY (post_id) REFERENCES post (id),
    FOREIGN KEY (plugin_id) REFERENCES plugin (id)
);
INSERT INTO use_plugin VALUES(1,1,1,1);
INSERT INTO use_plugin VALUES(2,2,1,0);
INSERT INTO use_plugin VALUES(3,3,1,0);
INSERT INTO use_plugin VALUES(4,9,1,1);
INSERT INTO use_plugin VALUES(5,4,1,1);
CREATE TABLE plugin(
    id INTEGER PRIMARY KEY AUTOINCREMENT,
    name TEXT NOT NULL,
    script TEXT NOT NULL
);
INSERT INTO plugin VALUES(1,'editormd',replace('var testEditor;\n$(function() {\nvar html = $(''#editor-md'').html()\n$(''#editor-md'').html(''<textarea stle="display:none">''+ html + ''</textarea>'')\n              testEditor = editormd.markdownToHTML("editor-md", {\n                  \n                  codeFold : true,\n                  emoji : true,\n                  taskList : true,\n                  tocm: true,         // Using [TOCM]\n                  tex : true,                   // 开启科学公式TeX语言支持，默认关闭\n                  flowChart : true,             // 开启流程图支持，默认关闭\n                  sequenceDiagram : true,       // 开启时序/序列图支持，默认关闭,\n                  \n              });\n              \n          });','\n',char(10)));
INSERT INTO plugin VALUES(8,'valine',replace('valine = new Valine({\n            el: ''#vcomments'',\n            appId: ''g2vMTGR3b6cfBPv8KPsWvQ5z-gzGzoHsz'',\n            appKey: ''03RyLkmoYsLsgxAEkXdPsImm'',\n            visitor: true,\n            verify: true,\n            notify: true,\n            recordIP:true,\n        });','\n',char(10)));
DELETE FROM sqlite_sequence;
INSERT INTO sqlite_sequence VALUES('welcode',1);
INSERT INTO sqlite_sequence VALUES('user',1);
INSERT INTO sqlite_sequence VALUES('category',13);
INSERT INTO sqlite_sequence VALUES('post',16);
INSERT INTO sqlite_sequence VALUES('category_post',41);
INSERT INTO sqlite_sequence VALUES('plugin',8);
INSERT INTO sqlite_sequence VALUES('uploadfile',1);
INSERT INTO sqlite_sequence VALUES('use_plugin',6);
CREATE TRIGGER update_post_updated UPDATE OF updated ON post 
  BEGIN
    UPDATE post SET updated = CURRENT_TIMESTAMP WHERE id = old.id;
  END;
COMMIT;
